{% extends "index.html" %}

{% block content %}
<div class="max-w-2xl mx-auto mt-2 bg-white p-10 rounded-3xl shadow-lg border border-gray-200">
    <h2 class="text-3xl font-bold text-[#1e3a8a] mb-8 text-center flex items-center justify-center gap-2">
        <i data-lucide="user-plus" class="w-6 h-6 text-orange-500"></i>
        إنشاء حساب جديد
    </h2>

    <form method="post" action="{% url 'register' %}" class="grid grid-cols-1 md:grid-cols-2 gap-6 ">
        {% csrf_token %}

        <!-- Username -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="user"></i>
                اسم المستخدم
            </label>
            <input type="text" name="username" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
        </div>

        <!-- Email -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="mail"></i>
                البريد الإلكتروني
            </label>
            <input type="email" name="email" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
        </div>

        <!-- Phone -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="phone"></i>
                رقم الهاتف
            </label>
            <input type="text" name="phone_number" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
        </div>

        <!-- User Type -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="user-check"></i>
                نوع المستخدم
            </label>
            <select name="user_type" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
                <option value="client">عميل</option>
                <option value="handyman">عامل يدوي</option>
            </select>
        </div>

        <!-- Password -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="lock"></i>
                كلمة المرور
            </label>
            <input type="password" name="password1" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
        </div>

        <!-- Confirm Password -->
        <div>
            <label class="block text-gray-700 font-medium mb-1 flex items-center gap-2">
                <i data-lucide="lock"></i>
                تأكيد كلمة المرور
            </label>
            <input type="password" name="password2" class="w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-400" required>
        </div>

        <!-- Submit Button -->
        <div class="md:col-span-2 text-center mt-4">
          <button type="submit" class="w-full bg-[#0d1b2a] text-[#f4a261] hover:bg-[#f4a261] hover:text-white transition py-3 rounded-xl font-semibold shadow flex items-center justify-center gap-2">
            <i data-lucide="check-circle"></i>
            تسجيل
        </button>
        
        </div>
        {% if messages %}
        <ul class="messages">
          {% for message in messages %}
              <li{% if message.tags %} class="{{message.tags}}"{% endif %}>
              {{ message }}
              </li>
          {% endfor %}
        </ul>
      {% endif %}
        <p class="mt-4 text-center text-sm text-[#0d1b2a]">
          هل انت عضو لدينا؟
          <a href="{% url 'login' %}" class="text-[#f4a261] hover:underline">سجل دخولك هنا!</a>
          
        </p>
    </form>
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
                {{ message }}
            </li>
        {% endfor %}
    </ul>
{% endif %}

</div>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>
<script>
    lucide.createIcons();
</script>
{% endblock %}

  